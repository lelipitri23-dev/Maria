<%- include('partials/header', { page: page }) %>

<main class="flex-1 w-full min-w-0 flex items-center justify-center min-h-[60vh]">
  <article class="w-full max-w-md bg-card rounded-xl shadow-2xl border border-[#33303f] overflow-hidden p-8">
    
    <div class="text-center mb-6">
      <h1 class="text-base md:text-lg font-bold text-[var(--text-main)] uppercase border-l-4 border-primary pl-3 leading-tight">Login</h1>
      <p class="text-sm text-gray-500">Silakan masuk ke akun Anda</p>
    </div>

    <% if (typeof error !== 'undefined' && error) { %>
      <div class="bg-red-500/10 border border-red-500 text-red-500 text-sm p-3 rounded mb-6 text-center">
        <%= error %>
      </div>
    <% } %>

    <form id="loginForm" action="/login" method="POST" class="space-y-5">
      <div class="space-y-1">
          <label for="reg-username" class="text-xs font-bold text-[var(--text-main)] uppercase tracking-wider ml-1">Username</label>
       
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="fas fa-user text-gray-500 text-sm"></i>
            </div>
            <input type="text" id="reg-username" name="username" placeholder="Masukkan username Anda" required minlength="6"
              class="w-full bg-darker border border-[#33303f] text-[var(--text-main)] rounded-lg py-3 pl-10 pr-4 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all placeholder-gray-600">
          </div>
        </div>
      
      <div class="space-y-1">
          <label for="reg-password" class="text-xs font-bold text-[var(--text-main)] uppercase tracking-wider ml-1">Password</label>
          <div class="relative">
             <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="fas fa-lock text-gray-500 text-sm"></i>
            </div>
            <input type="password" id="reg-password" name="password" placeholder="Masukkan password Anda" required minlength="6"
              class="w-full bg-darker border border-[#33303f] text-[var(--text-main)] rounded-lg py-3 pl-10 pr-4 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all placeholder-gray-600">
          </div>
        </div>

      <button type="submit" class="w-full bg-gradient-to-r from-primary to-pink-600 hover:from-pink-600 hover:to-primary text-white font-bold py-3 rounded-lg shadow-lg shadow-primary/20 transition-all transform hover:-translate-y-0.5">
          Login Sekarang
        </button>
    </form>

    <p class="mt-6 text-center text-sm text-gray-500">
      Belum punya akun?
      <a href="/register" class="text-primary hover:underline font-bold">Daftar di sini</a>
    </p>
  </article>
</main>

<script src="https://www.google.com/recaptcha/api.js"></script>
<script>
   function onSubmit(token) {
     document.getElementById("loginForm").submit();
   }
</script>

<%- include('partials/sidebar', { page: page }) %>
<%- include('partials/footer', { page: page }) %>